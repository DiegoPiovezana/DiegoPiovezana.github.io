<!DOCTYPE html>
<html>
  <head>

    <meta charset="utf-8">
    <title>TOMB OF THE MASK</title>
    <meta name="description" content="Um jogo inspirado no jogo Tomb of the Mask">
    
    <script src="https://aframe.io/releases/0.6.0/aframe.min.js"></script>

    <!-- Ambiente -->
    <script src="https://unpkg.com/aframe-environment-component/dist/aframe-environment-component.min.js"></script>

    <script src="//cdn.rawgit.com/donmccurdy/aframe-extras/v3.2.0/dist/aframe-extras.min.js"></script>
    <script src="//cdn.rawgit.com/donmccurdy/aframe-physics-system/v1.2.0/dist/aframe-physics-system.min.js"></script>
    <script src="https://rawgit.com/ngokevin/aframe-look-at-component/master/dist/aframe-look-at-component.min.js"></script> 
    <script src="https://unpkg.com/aframe-maze-component@0.1.20/dist/aframe-maze-component.min.js"></script>

    <script src="https://unpkg.com/aframe-physics-extras@0.1.2/dist/aframe-physics-extras.min.js"></script>

  </head>

  <!-- Ícone na guia do navegador -->
  <link rel="shortcut icon" href="icons/16x16.png">

  <body>
    
    <script>
     /*  AFRAME.registerComponent('rotation-reader', {
      tick: function () {
   
     console.log();
    }
     }); */
    
    </script>


    <!-- 
      CENÁRIOS:

      default
      forest
      arches
      volcano
      egypt
      tron
      goaland
      starry
      osiris
      contact *
      checkerboard
      poison
      japan
      yavapai
      goldmine
      dream
      threetowers
     -->

    <a-scene environment="preset: volcano" physics="debug: false">

      <!-- SOM -->
      <!-- <a-sound src="intro.mp3" autoplay="true" position="0 0 0"></a-sound> -->

      <!-- Som nas saídas do labirinto -->
      <!-- <a-sound src="intro.mp3" autoplay="true" position="30 0 0"></a-sound> --> <!-- Leste -->
      <!-- <a-sound src="intro.mp3" autoplay="true" position="-14 0 0"></a-sound> --> <!-- Norte -->
      <a-sound src="intro.mp3" autoplay="true" position="-24 0 0"></a-sound> <!-- Sul -->

      <!-- TIMER - Não funciona-->
      <!-- <div class="circle-timer"></div> -->


      <a-assets>
       
        <!-- Texturas labirinto -->
        <img id="texture-wall" src="img/Wall-maze.png">
        <img id="texture-floor" src="img/floor-texture-1.jpg">
        <!-- <img id="texture-subsolo" src="img/lava1.png"> -->
        <img id="texture-fluido" src="img/lava6.png">

          <!-- Muros -->
          <a-box id="wall-one" 
          static-body material="src: #texture-wall" 
          depth="1" width="4" height="5">
          </a-box>
        
          <!-- Colunas -->
          <a-cylinder id="end-cap"
            static-body color="#444444" 
            depth="1.1" width="1.1" height="6"
            radius="0.5">
          </a-cylinder>
          
      </a-assets>

      <!-- Céu -->
      <!-- <a-sky id="sky" color="#0000ff"></a-sky> -->
     
      <!-- Caixa vermelha no centro - ignora colisão (teste) -->
      <!--   <a-box id="center" 
          position="0 0 0"
          color="red" 
          depth="0.5" width="0.5" height="10">
      </a-box> -->




      <!-- Câmera (com apenas muro concreto)-->
      <a-entity id="jogador"
          camera="userHeight: 1.8"
          universal-controls
          kinematic-body
          position="0 0 0">          
      </a-entity>

      <!-- Câmera (Objetos ficam abstratos = jogador cai) -->
      <!-- <a-entity id="jogador"
          camera="userHeight: 1.8"
          universal-controls
          kinematic-body
          position="-20 10.8 20"
          physics-collider="ignoreSleep: true">
      </a-entity> -->

      <!-- Câmera (câmera flutua)-->
      <!-- <a-box src="https://images-na.ssl-images-amazon.com/images/I/21ZzpgClpiL.png" 
      height="0.6" width="0.6" depth="0.1" 
      bird id="bird" position="-20 10.8 20" rotation="-1 0 0" 
      static-body physics-collider="ignoreSleep: true">
        <a-camera 
        id="camera"
        
        look-controls-enabled="false">
        
        </a-camera>
      </a-box> -->


      <!-- Câmera MP -->
      <!-- <a-entity 
      camera look-controls wasd-controls 
      acceleration="500" 
      position="0 2 1" static-body
      physics-collider="ignoreSleep: true" 
      geometry="primitive: box; width: 1.1; height: 2.5; depth: 1.1"
      avatar>
      </a-entity> -->

     
      <!-- Caixa de vista panorâmica para se apoiar / Caixa "trampolim" -->
      <!-- <a-box static-body physics-collider="ignoreSleep: true" id= "trampolim"
          static-body 
          depth="0.25" height="0.5" width="0.5" 
          position="0 10 0"
          color="red">          
      </a-box> -->

      <!-- Labirinto  -->
      <a-entity id="maze" 
          maze='size: 15 15; wall: #wall-one; cap: #end-cap; open: S 0 N 1 4 E 5;' 
          position='0 1.5 0'
          rotation='0 0 0'>          
      </a-entity>
      
    <!-- Chão (invisível) -->
    <a-box id="solo" 
      position='0 1 0' 
      static-body physics-collider="ignoreSleep: true"
      width="200" height="1" depth="200" 
      static-body material="src: #texture-floor; opacity: 0.0; transparent: true">
    </a-box>   

    <!-- Sub-solo -->
    <!-- <a-box id="sub-solo" 
      position='0 -10 0' 
      width="200" height="5" depth="200" 
      static-body material="src: #texture-subsolo; opacity: 1.0; transparent: true">      
    </a-box>  -->
 

    <!-- Água/Lava -->
    <a-box id="fluido" physics-collider="ignoreSleep: true"
     width="200" height="2" depth="200" 
      static-body material="src: #texture-fluido; opacity: 0.9; transparent: true">
      <a-animation 
        attribute="position"
        dur="555555"
        from="0 -3 0"
        to="0 10 0"
        repeat="indefinite">
    </a-box> 

    <!-- Placa superior -->
    <!-- <a-box id="placa-superior" 
      width="60" height="1" depth="60"     
      color="black">
      <a-animation 
        attribute="position"
        dur="5000"
        from="0 70 0"
        to="0 1 0"
        repeat="indefinite">
    </a-animation>
    </a-box> -->              
  

    <!-- ANIMAÇÕES -->

   <!--  <a-animation 
    attribute="rotation"
    dur="50000"
    to="0 360 0"
    repeat="indefinite"
    easing= "linear"> -->

    <!-- <a-animation 
    attribute="material.color"
    dur="50000"
    from="blue"
    to="red"
    repeat="indefinite"> -->

      <!-- <a-animation 
      attribute="scale"
      dur="50000"
      from="1 1 1"
      to="3 3 3"
      direction="alternate-reverse"
      easing="ease-in-out-circ"
      repeat="indefinite"> -->

    </a-scene>


    <script>
        
        var jogador = document.getElementById("jogador");
        var fluido = document.getElementById("fluido");

        var posicaoJogador = jogador.getAttribute('position');
        var posicaoFluido = fluido.getAttribute('position');

        console.log("Posição"+posicaoJogador);
        console.log("Posição"+posicaoFluido);


    </script>
    
  </body>
</html>